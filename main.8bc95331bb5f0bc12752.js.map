{"version":3,"sources":["webpack:///./cards.hbs","webpack:///./apiService.js","webpack:///./refs.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","escapeExpression","alias2","nullContext","alias3","hooks","helperMissing","alias4","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","lambda","stack1","program","noop","NewsApiService","this","searchQuery","page","fetchPhoto","url","fetch","then","response","json","incrementPage","resetPage","newQuery","refs","formInputRef","document","querySelector","galleryListRef","sentinel","photo","_","require","alert","newsApiService","ApiService","createMarkup","ref","value","insertAdjacentHTML","addEventListener","debounce","e","query","target","text","type","innerHTML","photos","console","log","total","pictureCard","hits","IntersectionObserver","entries","forEach","entry","isIntersecting","rootMargin","observe"],"mappings":"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","file":"main.8bc95331bb5f0bc12752.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"card-item\\\">\\r\\n  <div class=\\\"photo-card\\\">\\r\\n    <img src=\\\"\"\n    + alias1(container.lambda((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" data-source=\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":49},\"end\":{\"line\":4,\"column\":66}}}) : helper)))\n    + \" alt=\\\"\\\" />\\r\\n    <div class=\\\"stats\\\">\\r\\n\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n        \"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":9,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">visibility</i>\\r\\n        \"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":8},\"end\":{\"line\":13,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">comment</i>\\r\\n        \"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":8},\"end\":{\"line\":17,\"column\":20}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n      <p class=\\\"stats-item\\\">\\r\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n        \"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":8},\"end\":{\"line\":21,\"column\":21}}}) : helper)))\n    + \"\\r\\n      </p>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const BASE_URL =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\r\nconst KEY = \"20527083-60e3a2c02ad8fed093670ddbc\";\r\n  \r\nexport default class NewsApiService {\r\n  constructor() {\r\n    this.searchQuery = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  fetchPhoto() {\r\n    const url = ` ${BASE_URL}&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${KEY}`;\r\n    return fetch(url).then(response => response.json());\r\n  }\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}","const refs = {\r\n  formInputRef: document.querySelector('#search-form__input'),\r\n  galleryListRef: document.querySelector('.gallery'),\r\n  sentinel: document.querySelector('#sentinel'),\r\n  photo: document.querySelector('.photo'),\r\n};\r\nexport { refs };","import './styles.css';\nimport ApiService from './apiService';\nimport { refs } from './refs';\nimport pictureCard from './cards.hbs';\nimport '@pnotify/core/dist/PNotify.css';\nimport '@pnotify/core/dist/BrightTheme.css';\nconst _ = require('lodash');\nconst { alert } = require('@pnotify/core');\nconst newsApiService = new ApiService();\n\nrefs.formInputRef.addEventListener('input', _.debounce(onSearch, 1000));\n\n\nfunction onSearch(e) {\n      newsApiService.query = e.target.value;\n        if (newsApiService.query === '') {\n            return emptyRequest()\n        }\n  newsApiService.resetPage();\n  clearPicturesContainer();\n    newsApiService.fetchPhoto()\n        .then((photos) => {\n    console.log(photos);\n            if (photos.total === 0) {\n                return notFound()\n            }\n        createMarkup(refs.galleryListRef, pictureCard(photos.hits))\n    newsApiService.incrementPage();\n\n        })};\n\nfunction clearPicturesContainer() {\n  refs.galleryListRef.innerHTML = '';\n}\nfunction createMarkup(ref, value) {\n  ref.insertAdjacentHTML('beforeend', value);\n}\n\nfunction emptyRequest() {\n   alert({\n  text: \"Please enter your query\",\n  type: 'error'\n   });\n}\nfunction notFound() {\n   alert({\n  text: \"Pictures not found!\",\n  type: 'error'\n   });\n}\n\nconst onEntry = entries => {\n  entries.forEach(entry => {\n    if (entry.isIntersecting && newsApiService.query !== '') {\n        newsApiService.fetchPhoto().then((photos) => {\n        createMarkup(refs.galleryListRef, pictureCard(photos.hits))\n        newsApiService.incrementPage();\n      });\n    }\n  });\n};\n\nconst observer = new IntersectionObserver(onEntry,\n{\n  rootMargin: '150px',\n});\nobserver.observe(refs.sentinel);"],"sourceRoot":""}